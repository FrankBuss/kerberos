<?xml version="1.0"?>
<regs>
	<reg name="MIDI_ADDRESS" address="0xde3a">
		<description>address offset for MIDI read/write access from $de00.</description>
		<bits start="1" end="3" name="READ_OFFSET">
			<description>read offset</description>
		</bits>
		<bits start="5" end="7" name="WRITE_OFFSET">
			<description>write offset</description>
		</bits>
	</reg>
	<reg name="MIDI_CONFIG" address="0xde3b">
		<description>MIDI configuration for MC68B50 and routing.</description>
		<bit position="0" name="IRQ">
			<description>IRQ routing from MC68B50 to C64 IRQ</description>
			<case value="0" name="OFF">
				<description>disable MIDI IRQ</description>
			</case>
			<case value="1" name="ON">
				<description>enable MIDI IRQ</description>
			</case>
		</bit>
		<bit position="1" name="NMI">
			<description>IRQ routing from MC68B50 to C64 NMI</description>
			<case value="0" name="OFF">
				<description>disable MIDI NMI</description>
			</case>
			<case value="1" name="ON">
				<description>enable MIDI NMI</description>
			</case>
		</bit>
		<bit position="2" name="CLOCK">
			<description>MC68B50 clock selection</description>
			<case value="0" name="500_KHZ">
				<description>500 kHz</description>
			</case>
			<case value="1" name="2_MHZ">
				<description>2 MHz</description>
			</case>
		</bit>
		<bit position="3" name="THRU">
			<description>MIDI thru signal source</description>
			<case value="0" name="IN">
				<description>MIDI in</description>
			</case>
			<case value="1" name="OUT">
				<description>MIDI out</description>
			</case>
		</bit>
		<bit position="4" name="ENABLE">
			<description>enable MIDI address</description>
			<case value="0" name="OFF">
				<description>disable MIDI</description>
			</case>
			<case value="1" name="ON">
				<description>enable MIDI</description>
			</case>
		</bit>
	</reg>
	<reg name="CART_CONTROL" address="0xde3c">
		<description>Controls the GAME/EXROM levels, LEDs and software reset.</description>
		<bit position="0" name="GAME">
			<description>GAME level</description>
			<case value="0" name="LOW">
				<description>set GAME level to low</description>
			</case>
			<case value="1" name="HIGH">
				<description>set GAME level to high (tristate with pullup from C64)</description>
			</case>
		</bit>
		<bit position="1" name="EXROM">
			<description>EXROM level</description>
			<case value="0" name="LOW">
				<description>set EXROM level to low</description>
			</case>
			<case value="1" name="HIGH">
				<description>set EXROM level to high (tristate with pullup from C64)</description>
			</case>
		</bit>
		<bit position="2" name="LED1">
			<description>LED1 control</description>
			<case value="0" name="RX">
				<description>LED1 signals MC68B50 RX signals</description>
			</case>
			<case value="1" name="ON">
				<description>turn on LED1</description>
			</case>
		</bit>
		<bit position="3" name="LED2">
			<description>LED2 control</description>
			<case value="0" name="TX">
				<description>LED2 signals MC68B50 TX signals</description>
			</case>
			<case value="1" name="ON">
				<description>turn on LED2</description>
			</case>
		</bit>
		<bit position="4" name="RESET">
			<description>reset control</description>
			<case value="1" name="GENERATE">
				<description>cartridge generated reset, all registers are preserved</description>
			</case>
		</bit>
	</reg>
	<reg name="CART_CONFIG" address="0xde3d">
		<description>RAM and mode configurations.</description>
		<bit position="0" name="RAM">
			<description>RAM control for $df00-$dfff</description>
			<case value="0" name="OFF">
				<description>disable cartridge RAM</description>
			</case>
			<case value="1" name="ON">
				<description>enable cartridge RAM</description>
			</case>
		</bit>
		<bit position="1" name="KERNAL_HACK">
			<description>KERNAL replacement hack control</description>
			<case value="0" name="OFF">
				<description>disable KERNAL hack</description>
			</case>
			<case value="1" name="ON">
				<description>enable KERNAL hack</description>
			</case>
		</bit>
		<bit position="2" name="HIGHRAM_HACK">
			<description>HIGHRAM detection hack control, to access RAM under the KERNAL replacement</description>
			<case value="0" name="OFF">
				<description>disable HIGHRAM detection hack</description>
			</case>
			<case value="1" name="ON">
				<description>enable HIGHRAM detection hack</description>
			</case>
		</bit>
		<bit position="3" name="EASYFLASH">
			<description>EasyFlash emulation control</description>
			<case value="0" name="OFF">
				<description>disable EasyFlash mode</description>
			</case>
			<case value="1" name="ON">
				<description>enable EasyFlash mode</description>
			</case>
		</bit>
		<bit position="4" name="RAM_AS_ROM">
			<description>use the external RAM as cartridge ROM instead of the flash</description>
			<case value="0" name="OFF">
				<description>disables the RAM as ROM mode</description>
			</case>
			<case value="1" name="ON">
				<description>enables the RAM as ROM mode</description>
			</case>
		</bit>
	</reg>
	<reg name="ADDRESS_EXTENSION" address="0xde3e">
		<description>Address bits 15..8 for RAM and 20..13 for flash.</description>
	</reg>
	<reg name="ADDRESS_EXTENSION2" address="0xde3f">
		<description>More address bits.</description>
		<bit position="0" name="RAM">
			<description>RAM address bit a16</description>
			<case value="1" name="A16">
				<description></description>
			</case>
		</bit>
		<bit position="1" name="FLASH">
			<description>address bit 20 in EasyFlash mode. Selects first or second MB of flash memory.</description>
			<case value="1" name="A20">
				<description></description>
			</case>
		</bit>
	</reg>
</regs>
